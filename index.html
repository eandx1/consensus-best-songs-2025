<!DOCTYPE html>
<html lang="en" data-theme="dark" data-style="original">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Consensus Best Songs 2025</title>
    <meta
      name="description"
      content="An aggregate ranking of the Best Songs of 2025 with a model you can customize."
    />
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://bestsongs2025.com/">
    <meta property="og:title" content="Consensus Best Songs 2025">
    <meta property="og:image" content="https://bestsongs2025.com/og-image.png"> 
    <meta property="og:description" content="Discover the top songs of 2025 from an aggregate review list then tweak the ranking yourself!">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://bestsongs2025.com/">
    <meta property="twitter:title" content="Consensus Best Songs 2025">
    <meta property="twitter:description" content="Discover the top songs of 2025 from an aggregate review list then tweak the ranking yourself!">
    <meta property="twitter:image" content="https://bestsongs2025.com/og-image.png">

    <link rel="icon" href="/icon.svg" type="image/svg+xml">

    <link rel="icon" href="/favicon.ico" sizes="any">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300..800&family=Lexend:wght@300..900&display=swap" rel="stylesheet">

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"
    />

    <style>
      /* 
           THEME CONFIGURATION
           We use data-theme for Pico's base (light/dark) and data-style for specific color palettes/fonts.
           
           To add a new theme:
           1. Define a new [data-style="theme-name"] block here with your overrides.
              - --pico-primary: Main accent color
              - --pico-primary-background: Background for buttons/badges
              - --pico-primary-hover: Hover state color
              - --pico-primary-underline: Underline color
              - --pico-font-family: Optional font override (default is sans-serif)
           2. Update the `themes` object in script.js `applyTheme()` function.
           3. Add the option to the Theme Selector in script.js `renderSettingsUI()`.
        */

      /* Base Settings (Global) */
      :root {
        /* Mobile-first: Increase base size for better legibility by default */
        --pico-font-size: 115%;
      }

      /* THEME: Original (Blue Accent) */
      [data-style="original"] {
        /* High-vibrancy Azure */
        --pico-primary: #60a5fa;
        --pico-primary-background: #3b82f6;
        --pico-primary-hover: #93c5fd;
        --pico-primary-underline: rgba(96, 165, 250, 0.5);

        /* Brighten secondary text for better reading */
        --pico-muted-color: #94a3b8;

        --pico-muted-border-color: #475569;
        --pico-range-border-color: #334155;

        --pico-table-row-stripped-background-color: rgba(255, 255, 255, 0.03);
      }

      /* Original Theme: Steady Azure Focus */
      [data-style="original"] a:focus-visible,
      [data-style="original"] button:focus-visible,
      [data-style="original"] input:focus-visible {
          outline: none !important;
          box-shadow: 0 0 0 2px var(--pico-primary-underline) !important;
          border-color: var(--pico-primary) !important;
          /* Prevent the text from lightening; keep it the rich blue */
          color: var(--pico-primary) !important;
      } 

      /* THEME: Studio 808 (High-Contrast Refined) */
      [data-style="808"] {
        /* Unify background and card colors to solid black */
        --pico-background-color: #000000;
        --pico-card-background-color: #000000;
        --pico-card-sectioning-background-color: #0a0a0a; /* Subtle lift for headers */
        
        --pico-primary: #ff5f00; 
        --pico-primary-background: #ff5f00;
        --pico-color: #e0e0e0;
        --pico-muted-color: #757575;
        --pico-font-family: "JetBrains Mono", monospace;
        --pico-border-radius: 2px;
        --pico-muted-border-color: #222222; /* Darker, technical borders */
        --pico-range-border-color: #3d3d3d;
        --pico-table-row-stripped-background-color: #111111;
      }

      /* Modal and Article UI Overrides */
      [data-style="808"] #modal-reviews article.review-entry {
        background-color: transparent !important;
        border: none !important;
        /* border-bottom: 1px solid #222 !important; /* Clean separator line */ 
        border-bottom: 2px solid #1a1a1a !important; /* A slightly thicker, darker technical divider */
        margin-bottom: 0;
        /* padding: var(--pico-spacing) 0; */
        padding: 2rem 0; /* Heavy vertical padding for a clear 'channel' separation */
        box-shadow: none;
      }

      /* The Blockquote as the "Inset" Element */
      [data-style="808"] article.review-entry blockquote {
        background-color: #1a1a1a; /* Dark gray for the review text area */
        border-left: 3px solid var(--pico-primary); /* Use the orange as a vertical accent */
        color: var(--pico-color);
        padding: 1.5rem;
        margin: 1.5rem 0;
        border-radius: 0;
      }

      /* 808 Theme: Recessed 'LCD' kbd Display */
      [data-style="808"] kbd {
        /* Use a very deep gray instead of bright white */
        background-color: #111111; 
        
        /* Use the primary orange for the 'glowing' text */
        color: var(--pico-primary);
        
        /* Add a subtle technical border to give it 'depth' */
        border: 1px solid #222;
        
        /* Maintain the square brutalist look */
        border-radius: 0;
        
        /* Ensure it doesn't pop out too much */
        box-shadow: none;
        font-weight: 700;
      }

      [data-style="808"] .review-entry a[role="button"] {
          border-radius: 0;
          text-transform: uppercase;
          letter-spacing: 0.1em;
          font-size: 0.8rem;
      }

      /* 808 Theme: Simplified Hardware Buttons */
      [data-style="808"] dialog footer button,
      [data-style="808"] dialog footer [role="button"],
      [data-style="808"] .review-entry [role="button"] {
          border-radius: 0 !important;
          text-transform: uppercase;
          letter-spacing: 0.1em;
          font-weight: 700;
          font-size: 0.75rem;
          transition: all 0.1s ease-in-out;
      }

      /* Optional: Make kbd in tables or stats even more subtle */
      [data-style="808"] table kbd {
          border-color: #333;
      }    

      /* Secondary Buttons for the 808 aesthetic */
      [data-style="808"] button.outline {
        --pico-background-color: transparent;
        --pico-color: var(--pico-primary);
        border: 1px solid var(--pico-primary);
        text-transform: uppercase;
        letter-spacing: 0.1em;
        font-weight: 700;
      }

      [data-style="808"] input[type="range"]::-webkit-slider-thumb {
            background: var(--pico-primary);
            border-radius: 0; /* Square sliders for that drum machine look */
      }

      /* 808 Theme: Hardware-style Focus State */
      [data-style="808"] a:focus-visible,
      [data-style="808"] button:focus-visible,
      [data-style="808"] input:focus-visible,
      [data-style="808"] [role="button"]:focus-visible,
      [data-style="808"] summary:focus-visible {
          /* Remove the default blue glow */
          outline: none !important;
          box-shadow: 0 0 0 2px var(--pico-primary) !important;
          border-color: var(--pico-primary) !important;
          /* Keep the text color orange to prevent "drifting" to blue/white */
          color: var(--pico-primary) !important;
      }

      /* Ensure the focus ring is square to match the theme aesthetic */
      [data-style="808"] :focus-visible {
          border-radius: 0 !important;
      }      

      /* THEME: Light (Clean Light Mode) */
      [data-style="light1"] {
        --pico-primary: #7c4dff;
        --pico-background-color: #f8f9ff; /* Soft blue-white */
        --pico-color: #1a237e; /* Deep navy text */
        --pico-muted-color: #5c6bc0;
        
        --pico-card-background-color: #ffffff;
        --pico-card-sectioning-background-color: #f0f2ff; /* The header bar color */
        
        --pico-font-family: "Lexend", sans-serif;

        --pico-muted-border-color: #d1d5db;
        --pico-range-border-color: #e0e4ff;
        --pico-table-row-stripped-background-color: #f5f7ff;
      }

      [data-style="light1"] article,
      [data-style="light1"] dialog article {
        box-shadow: 0 4px 12px rgba(26, 35, 126, 0.05);
      }

      [data-style="light1"] article header {
        border-bottom: 1px solid #e0e4ff;
      }
  
      [data-style="light1"] .mode-card.active {
        background-color: #f5f6ff;
        border-color: var(--pico-primary);
      }

      /* Light Theme: Purple Focus Ring */
      [data-style="light1"] a:focus-visible,
      [data-style="light1"] button:focus-visible,
      [data-style="light1"] input:focus-visible {
          outline: none !important;
          box-shadow: 0 0 0 2px rgba(124, 77, 255, 0.3) !important;
          border-color: var(--pico-primary) !important;
      }      

      /* 
           FUTURE THEME EXAMPLES:
           
           [data-style="crimson"] {
               --pico-primary: #c62828;
               --pico-primary-background: #c62828;
               --pico-primary-hover: #b71c1c;
               --pico-primary-underline: rgba(198, 40, 40, 0.5);
               --pico-font-family: "Georgia", "Times New Roman", serif; 
           }
        */

      /* Accessibility: Only show focus rings when using a keyboard */
      :focus:not(:focus-visible) {
        box-shadow: none !important;
        outline: none !important;
      }        

      /* Enable word-wrapping for Pico CSS tooltips */
      [data-tooltip]::before {
        white-space: normal; /* Allows text to wrap to the next line */
        max-width: 80vw; /* Ensures it doesn't exceed the viewport on mobile */
        line-height: 1.4; /* Improves readability for multi-line text */
      }

      /* Fix for mobile modal scrolling clipping */
      dialog > article {
        max-height: calc(100dvh - var(--pico-spacing) * 2);
        overflow-y: auto;
        -webkit-overflow-scrolling: touch; /* Ensures smooth momentum scrolling on iOS */
      }

      /* Add spacing at the top of the main container for rank #1 */
      main.container {
        padding-top: var(--pico-block-spacing-vertical);

        /* Mobile: Reduce side padding so cards are wider */
        padding-left: 0.5rem;
        padding-right: 0.5rem;
      }

      /* Center the bottom controls and add breathing room */
      .page-controls {
        padding: 2rem 0;
        text-align: center;
      }

      /* On mobile, keep the buttons full-width or side-by-side */
      .page-controls .grid {
        max-width: 400px; /* Keeps the buttons from being too wide on huge monitors */
        margin: 0 auto;   /* Centers the grid container */
        gap: 1rem;
      }

      /* Match your new visual hierarchy: Primary accent for Load More, subtle for BTT */
      #main-btt {
        --pico-color: var(--pico-muted-color);
        --pico-border-color: var(--pico-muted-border-color);
      }      

      dialog article footer.modal-controls {
        display: flex;
        flex-direction: column;
        gap: 0.75rem; /* Generous vertical spacing for thumbs */
        padding: var(--pico-spacing);
      }

      dialog article footer.modal-controls button {
        width: 100%;        /* Full width for a large thumb target */
        margin: 0;          /* Removes any default side margins causing offset */
        text-align: center; /* Ensures text is perfectly centered */
      }

      dialog article footer.modal-controls button:not(:first-of-type) {        
        margin: 0; /* Override Pico CSS's horizontal button margins */
      }

      /* Enhanced Global Button Depress */
      button:active, 
      [role="button"]:active {
        /* Use !important to ensure this high-priority visual feedback wins */
        transform: scale(0.96) !important; 
        transition: transform 0.05s ease-in-out !important;
        /* Optional: slightly dim the button to make the "push" more obvious */
        filter: brightness(0.9);
      }

      /* Ensure the transform doesn't linger after the click */
      button, [role="button"] {
        transition: transform 0.1s ease-in-out, background-color 0.2s, border-color 0.2s, box-shadow 0.2s;
      }

      /* Desktop: Allow container to be wider for more breathing room */
      @media (min-width: 1025px) {
        main.container,
        header.container {
          max-width: 90vw; /* Use more screen real estate */
        }
      }

      @media (min-width: 1400px) {
        main.container,
        header.container {
          max-width: 1300px; /* Cap it reasonably on huge screens */
        }
      }

      /* Add space for the iPhone's "notch" and address bar on mobile by default */
      main#app {
        padding-top: 2rem;
      }

      /* Song Cards: Minimal custom styling, rely on Pico's article styling */
      article.song-card {
        position: relative;
        margin-bottom: 2rem;
      }

      /* 
           MOBILE-FIRST LAYOUT 
           Base styles apply to mobile (and up, unless overridden).
        */

      .song-card-layout {
        display: flex;
        flex-direction: column; /* Stack vertically on mobile */
        align-items: flex-start;
        gap: var(--pico-spacing);
      }

      .rank-display {
        flex: 0 0 auto;
        text-align: left;
        font-size: 2.5rem; /* Bigger rank on mobile */
        font-weight: 900;
        opacity: 0.6;
        line-height: 1;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        margin-bottom: -1rem; /* Pull video up closer to rank */
      }

      .video-figure {
        flex: 0 0 auto;
        width: 100%; /* Full width on mobile */
        margin: 0;
      }

      .song-info {
        flex: 1;
        min-width: 0;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        width: 100%; /* Ensure it takes full width in stack */
      }

      /* Genre display styling - use specific selector to override Pico's h5 styles */
      #modal-reviews article.song-card hgroup h5.song-genres {
        font-size: 0.8rem;
        opacity: 80%;
        font-weight: 300; /* Lighter weight creates a sophisticated look */
        margin-bottom: 0;
      }

      /* Global Review Spacing (Applies to all themes) */
      #modal-reviews article.review-entry {
        padding: 2.5rem 0; /* Increased from the tight default */
        border-bottom: 1px solid var(--pico-muted-border-color);
        margin-bottom: 0;
      }

      /* Ensure the header and blockquote don't feel disconnected */
      #modal-reviews article.review-entry hgroup {
        margin-bottom: 1rem;
      }

      #modal-reviews article.review-entry blockquote {
        margin-bottom: 1rem;
      }

      /* Remove the border from the last item so it doesn't double up with the footer */
      #modal-reviews  article.review-entry:last-of-type {
        border-bottom: none;
      }

      #modal-reviews  article.review-entry hgroup h5 {
        font-size: 0.8rem;
        color: color-mix(in srgb, var(--pico-color) 80%, transparent);
        font-weight: 300; /* Lighter weight creates a sophisticated look */
        margin-bottom: 0;
      }

      /* Apply a shared class to both tables */
      .source-stats-table {
        table-layout: fixed;
        width: 100%;
        margin-bottom: var(--pico-block-spacing-vertical);
      }

      /* Define the width of the Source Name column */
      .source-stats-table th:first-child,
      .source-stats-table td:first-child {
        width: 70%; 
        /* Allow tooltips to overflow - no clipping */
        text-overflow: ellipsis;
      }

      /* Define the width of the Song Count column */
      .source-stats-table th:last-child,
      .source-stats-table td:last-child {
        width: 30%;
        text-align: right; /* Keeps numbers neatly aligned on the right */
      }

      /* Ensure table rows and cells don't clip tooltips */
      .source-stats-table tbody tr,
      .source-stats-table tbody td {
        overflow: visible;
      }
      
      /* Ensure tooltips in source tables wrap text properly */
      .source-stats-table abbr[data-tooltip]::before,
      .source-stats-table abbr[data-tooltip]::after {
        white-space: normal;
      }

      /* Video player wrapper using semantic <figure> */
      article.song-card figure {
        margin: 0;
        display: flex;
        align-items: center;
      }

      article.song-card figure lite-youtube {
        width: 100%;
        aspect-ratio: 16 / 9;
        border-radius: var(--pico-border-radius);
      }

      /* Accessibility: Visual focus indicator for video players */
      article.song-card figure lite-youtube:focus-within {
        /* Use a box-shadow instead of a border to avoid "jumping" layout */
        box-shadow: 0 0 0 3px var(--pico-primary) !important;
        outline: none;
        /* Ensure the shadow follows the component's corners */
        border-radius: var(--pico-border-radius);
        transition: box-shadow 0.2s ease-in-out;
      }

      /* For the 808 theme, keep the focus ring square */
      [data-style="808"] article.song-card figure lite-youtube:focus-within {
        border-radius: 0;
      }      

      /* Customize lite-youtube play button - Mobile Default (visible) */
      lite-youtube::part(playButton) {
        width: 68px;
        height: 48px;
        background-color: transparent;
        filter: grayscale(1);
        opacity: 0.15; /* Mobile default - slightly visible */
        transition: opacity 0.2s, filter 0.2s;
      }

      /* Header contains hgroup and info icon */
      article.song-card .song-info > header {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        gap: 1rem;
        padding: 0;
        margin: 0;
        margin-bottom: 0.75rem;
        border: none;
      }

      article.song-card hgroup {
        margin-bottom: 0;
        flex: 1;
      }

      /* Song Title - Mobile optimized */
      article.song-card hgroup h3 {
        /* font-size: 1.5rem; /* Larger, clearer title */
        margin-bottom: 0.25rem;
        line-height: 1.2;
        color: var(--pico-color);

        font-weight: 800; /* Extra bold for visibility */
      }

      /* Use h4 for artist name in hgroup */
      article.song-card hgroup h4 {
        color: var(--pico-muted-color);
        font-weight: normal;
        margin-bottom: 0.25rem
      }

      /* Info icon - now inside header, aligned to baseline */
      article.song-card header > a[aria-label] {
        opacity: 0.4;
        font-size: 1.4rem; /* Slightly larger touch target */
        transition: opacity 0.2s;
        padding: 0.25rem;
        margin: -0.25rem 0 0 0; /* Compensation for padding */
        text-decoration: none;
        flex-shrink: 0;
      }

      article.song-card header > a[aria-label]:hover {
        opacity: 1;
      }

      /* Custom Focus for the Sources text area */
      [data-sources]:focus-visible {
        outline: none;
        /* Adds a subtle underline or glow using your theme's primary color */
        box-shadow: 0 0 0 1px var(--pico-primary) !important;
        color: var(--pico-color) !important;
        cursor: pointer;
      }

      /* 808 Theme: High-contrast technical focus */
      [data-style="808"] [data-sources]:focus-visible {
        /* A sharp, 2px bottom border for the console look */
        box-shadow: 0 0 0 2px var(--pico-primary) !important;
        background-color: #0a0a0a; /* Very subtle lift */
        border-radius: 0;
      }  

      /* Sources section styling - Mobile optimized */
      article.song-card [data-sources] {
        margin: 0.75rem 0;
        line-height: 1.6; /* Tightened from 2, but still touch-friendly */
        font-size: 1rem; /* Increased from 0.95rem */
        cursor: pointer;
      }

      article.song-card [data-sources] span {
        white-space: nowrap;
        color: var(--pico-muted-color);
        font-size: 0.8rem;
        transition: color 0.2s;
      }

      article.song-card:hover [data-sources] span {
        color: var(--pico-color);
      }

      /* Nav for listen links - Pico handles most styling */
      article.song-card nav {
        margin-top: auto;
        padding: 0;
      }

      article.song-card nav ul {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin: 0;
        padding: 0;
        list-style: none;
      }

      article.song-card nav li {
        margin: 0;
        padding: 0;
      }

      article.song-card nav a {
        font-size: 0.85rem; /* Increased from 0.7rem */
        text-transform: uppercase;
        font-weight: 700;
        opacity: 0.7;
        transition: opacity 0.2s;
        padding: 0.4rem 0.5rem; /* Larger touch targets */
        text-decoration: none;
      }

      article.song-card nav a:hover {
        opacity: 1;
      }

      /* 
           DESKTOP / TABLET OVERRIDES 
           Apply when screen width is >= 577px
        */
      @media (min-width: 1025px) {
        :root {
          --pico-font-size: 100%; /* Reset to standard size on desktop */
        }

        main#app {
          padding-top: 0; /* Remove extra top padding */
        }

        .song-card-layout {
          flex-direction: row; /* Horizontal layout */
          align-items: center;
        }

        .rank-display {
          flex: 0 0 4rem; /* Fixed width */
          text-align: center;
          font-size: clamp(1.75rem, 2.5vw, 2.25rem);
          margin-bottom: 0;
          justify-content: center;
        }

        .video-figure {
          flex: 0 0 320px; /* Fixed width for video */
          width: auto;
        }

        /* Tighter line height for mouse users */
        article.song-card [data-sources] {
          line-height: 1.8;
          font-size: 0.875rem;
        }
      }

      /* Large Desktop Overrides */
      @media (min-width: 1200px) {
        .video-figure {
          flex: 0 0 360px;
        }
      }

      /* Hover effects for devices that support it (mostly desktop) */
      @media (hover: hover) {
        lite-youtube::part(playButton) {
          opacity: 0; /* Invisible until hover or focus */
        }

        lite-youtube:hover::part(playButton),
        lite-youtube:focus::part(playButton),
        lite-youtube:focus-within::part(playButton) {
          opacity: 1;
        }
      }

      /* Responsive Header - Two-Column Flex Layout */
      header.container nav {
        display: flex;
        justify-content: space-between;
        align-items: flex-start; /* Title starts at top, but links stay level */
        flex-wrap: nowrap;
      }

      /* The Title Block */
      header.container nav ul:first-of-type {
        flex: 1;
        display: block; /* Allow the <strong> to wrap naturally */
        padding: 0;
      }

      header.container nav ul:first-of-type li {
        display: block;
        padding: 0;
      }

      header.container nav ul:first-of-type li strong {
        display: block;
        line-height: 1.1;
        font-size: clamp(1rem, 4.5vw, 1.3rem);
        white-space: normal; /* This enables the wrap you want */
        max-width: 180px; /* Forces 'Consensus' and 'Best Songs' to stack */
      }

      /* Desktop: Unwrap title and align items vertically */
      @media (min-width: 1025px) {
        header.container nav {
          align-items: center;
        }

        header.container nav ul:first-of-type li strong {
          max-width: none;
          white-space: nowrap;
        }
      }

      /* The Links Block */
      header.container nav ul:last-of-type {
        display: flex;
        align-items: center; /* Keep 'Settings' and 'About' perfectly level */
        height: 2.2rem; /* Matches the height of the first line of text */
        flex-shrink: 0;
      }

      /* Settings UI Styles */
      .customized-label {
        color: var(--pico-primary);
        font-weight: bold;
      }

      article.mode-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: var(--pico-spacing);

        cursor: pointer;
        border: 2px solid transparent;
        border-color: var(--pico-muted-border-color);
        transition: border-color 0.2s, transform 0.1s ease, background-color 0.2s;
        margin-bottom: 0;
      }

      article.mode-card header {
        background-color: transparent;
        border-bottom: none;
        margin-bottom: 0;
      }

      article.mode-card:hover {
        border-color: var(--pico-secondary);
        transform: scale(1.02);
      }

      article.mode-card.active {
        border-color: var(--pico-primary);
      }

      /* Column List: Defaults to 1 column (mobile), switches to 2 on larger screens */
      .column-list {
        column-count: 1;
      }

      /* Stats Modal: Reduce cell padding to expand text closer to row boundaries */
      #modal-stats table td,
      #modal-stats table th {
        padding-left: calc(var(--pico-spacing) * 0.25);
        padding-right: calc(var(--pico-spacing) * 0.25);
      }

      /* Stats Modal: Add spacing between sections */
      #stats-content > section {
        margin-bottom: calc(var(--pico-spacing) * 1.5);
      }

      #stats-content > section:last-child {
        margin-bottom: 0;
      }

      /* Stats Modal: Ensure tooltips wrap properly and stay within modal bounds */
      #modal-stats abbr[data-tooltip]::before,
      #modal-stats abbr[data-tooltip]::after {
        white-space: normal;
        max-width: 280px;
      }

      /* Stats Modal: Shadow rank tooltips (top placement) should be narrower */
      #modal-stats abbr[data-tooltip][data-placement="top"]::before {
        max-width: 220px;
      }

      /* Reviews Modal: Ensure shadow rank tooltips wrap properly */
      #modal-reviews abbr[data-tooltip]::before,
      #modal-reviews abbr[data-tooltip]::after {
        white-space: normal;
      }

      /* Mobile Modal Fixes: Flatten nested structure to maximize width */
      @media (max-width: 1024px) {
        /* Make tooltips narrower on mobile to stay within modal bounds */
        #modal-stats table abbr[data-tooltip]::before {
          max-width: 180px;
        }

        /* Shadow rank tooltips on mobile should be even narrower */
        #modal-stats table abbr[data-tooltip][data-placement="top"]::before {
          max-width: 160px;
        }

        /* Remove extra padding from container inside dialog */
        dialog .container {
          padding-left: 0;
          padding-right: 0;
        }

        /* Remove card styling from nested articles to regain horizontal space */
        dialog article article:not(.mode-card) {
          padding: 0;
          background: transparent;
          box-shadow: none;
          margin-bottom: 1.5rem;
          border-bottom: 1px solid var(--pico-muted-border-color);
          padding-bottom: 1.5rem;
        }

        dialog article article:not(.mode-card):last-of-type {
          border-bottom: none;
          margin-bottom: 0;
          padding-bottom: 0;
        }

        /* Tighten up the formula display in settings */
        math-formula svg {
          max-width: 100%;
        }
        
        /* Hide mode names in comparison table on mobile to save space */
        .mode-name {
          display: none;
        }

        /* Reduce the gap between the Consensus and Conviction boxes */
        #about-ranking .grid {
            gap: var(--pico-spacing); 
        }

      }

      @media (min-width: 1025px) {
        .column-list {
          column-count: 2;
          column-gap: 2rem;
        }
        
        /* Show mode names on desktop */
        .mode-name {
          display: inline;
        }
      }
    </style>

    <!-- Lite YouTube -->
    <script
    type="module"
    src="https://cdn.jsdelivr.net/npm/@justinribeiro/lite-youtube@1/lite-youtube.js"
    ></script>

    <!-- Vercel Analytics -->
    <script>
      window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };

      // 1. Check if the domain is correct
      const isProd = window.location.hostname.endsWith('bestsongs2025.com');
      
      // 2. Check if YOU have "opted out" on this specific browser
      const isMe = localStorage.getItem('va-disable') === 'true';

      if (isProd && !isMe) {
        const script = document.createElement('script');
        script.src = '/_vercel/insights/script.js';
        script.defer = true;
        document.head.appendChild(script);
      } else {
        console.log("Vercel Analytics: Off (Env: " + window.location.hostname + ", Opt-out: " + isMe + ")");
      }
    </script>
  </head>
  <body>
    <header class="container">
      <nav>
        <ul>
          <li><strong>Consensus Best Songs 2025</strong></li>
        </ul>
        <ul>
          <li><a href="#" id="open-export" style="display: none;">Export</a></li>
          <li><a href="#" id="open-settings">Settings</a></li>
          <li><a href="#" id="open-about">About</a></li>
        </ul>
      </nav>
    </header>

    <main class="container" id="app">
      <div id="song-list"></div>

      <section class="page-controls">
        <div class="grid">
          <button id="main-btt" class="outline btt-trigger">Back to top</button>
          <button id="load-more" class="outline">Show More</button>          
        </div>
      </section>      
    </main>

    <dialog id="modal-settings">
      <article>
        <header>
          <button aria-label="Close" rel="prev" class="close-modal" autofocus></button>
          <h3>Settings</h3>
        </header>
        <div id="settings-content"></div>
        <footer class="modal-controls">
          <button class="secondary outline btt-trigger">Back to top</button>
          <button class="contrast" id="reset-defaults">Reset</button>
          <button class="close-modal">Close</button>
        </footer>
      </article>
    </dialog>

    <dialog id="modal-stats">
      <article>
        <header>
          <button aria-label="Close" rel="prev" class="close-modal" autofocus></button>
          <h3 id="stats-title">Ranking Stats</h3>
        </header>
        <div id="stats-content"></div>
        <footer class="modal-controls">
          <button class="secondary outline btt-trigger">Back to top</button>
          <button class="close-modal">Close</button>
        </footer>  
      </article>
    </dialog>

    <dialog id="modal-reviews">
      <article>
        <header>
          <button aria-label="Close" rel="prev" class="close-modal" autofocus></button>
          <h3>Reviews</h3>
        </header>
        <div id="reviews-content"></div>
        <footer class="modal-controls">
          <button class="secondary outline btt-trigger">Back to top</button>
          <button class="close-modal">Close</button>
        </footer>          
      </article>
    </dialog>

    <dialog id="modal-export">
      <article>
        <header>
          <button aria-label="Close" rel="prev" class="close-modal" autofocus></button>
          <h3>Export</h3>
        </header>
        <div id="export-content">
            <!-- Dynamic content will be injected here -->
        </div>
        <footer>
            <!-- Footer content will be managed by renderExportUI to update the link -->
        </footer>  
      </article>
    </dialog>

    <dialog id="modal-about">
      <article>
        <header>
          <button aria-label="Close" rel="prev" class="close-modal" autofocus></button>
          <h3>About</h3>
        </header>
        <div class="modal-body-content">
          <section id="about-general">
            <hgroup>
              <h4>Behind the project</h4>
              <p>A labor of love for music and data</p>
            </hgroup>
            <p>
              I'm Everett. I love music, data, and technology. Each year, I look
              through the many
              <strong>"Best Songs of the Year"</strong> lists to find new music
              I might have missed. There are so many songs (<kbd id="total-songs-count">...</kbd> so far this year)! I often prioritize
              my listening order with a ranking. This site is a result of
              that obsession and an excuse to try using AI for frontend
              development.
            </p>
            <p>
              <a href="https://github.com/eandx1/consensus-best-songs-2025"
                >Read more about the analysis and process on GitHub</a
              >
            </p>
            <p>
              <a href="https://www.linkedin.com/in/everett-anderson-swe/"
                >Contact me on LinkedIn</a>              
            </p>            
          </section>

          <hr /> 
          <section id="about-methodology">
            <hgroup>
              <h4>How it works</h4>
              <p>Build your own 2025 definitive ranking</p>
            </hgroup>
            <p>
              This site aggregates <strong>"Best Songs of 2025"</strong> lists
              from US/UK music industry sites, critics, niche/genre sites, and
              the mainstream press.
              <strong
                >By default, the ranking prioritizes consensus and crossover
                hits, seasoned with a bit of my own genre and source
                biases.</strong
              >
            </p>
            <p>
              Make it your own!
              <ul>
                <li><strong>Weight sources</strong>: Boost your favorite publications</li>
                <li><strong>Choose a rank decay function</strong>: Prioritize #1 spots over general consensus</li>
                <li><strong>Boost song types</strong>: Prefer niche sounds over the mainstream</li>
              </ul>
            </p>
          </section>

          <hr />
          <section id="about-sources">
            <hgroup>
              <h4>Sources</h4>
              <p>All the song and ranking sources</p>
            </hgroup>
            
            <h5>Ranked</h5>
            <figure>
              <table id="ranked-sources-table" class="source-stats-table">
                <thead>
                  <tr>
                    <th>Source</th>
                    <th>Songs</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td colspan="2">Loading...</td></tr>
                </tbody>
              </table>
            </figure>
            
            <h5>Unranked</h5>
            <figure>
              <table id="unranked-sources-table" class="source-stats-table">
                <thead>
                  <tr>
                    <th>Source</th>
                    <th>Songs</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td colspan="2">Loading...</td></tr>
                </tbody>
              </table>
            </figure>
          </section>
        </div>
        <footer class="modal-controls">
          <button class="secondary btt-trigger">Back to top</button>
          <button class="close-modal">Close</button>
        </footer>        
      </article>
    </dialog>

    <script src="./script.js"></script>
  </body>
</html>
