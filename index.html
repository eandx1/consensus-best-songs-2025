<!doctype html>
<html lang="en" data-theme="dark" data-style="original">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="canonical" href="https://www.bestsongs2025.com/" />
    <title>Consensus Best Songs 2025</title>
    <meta
      name="description"
      content="An aggregate ranking of the Best Songs of 2025 with a model you can customize."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://bestsongs2025.com/" />
    <meta property="og:title" content="Consensus Best Songs 2025" />
    <meta
      property="og:image"
      content="https://bestsongs2025.com/og-image.png"
    />
    <meta property="og:image:width" content="2400" />
    <meta property="og:image:height" content="1260" />
    <meta property="og:image:type" content="image/png" />
    <meta
      property="og:description"
      content="Discover the top songs of 2025 from an aggregate review list then tweak the ranking yourself!"
    />

    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://bestsongs2025.com/" />
    <meta property="twitter:title" content="Consensus Best Songs 2025" />
    <meta
      property="twitter:description"
      content="Discover the top songs of 2025 from an aggregate review list then tweak the ranking yourself!"
    />
    <meta
      property="twitter:image"
      content="https://bestsongs2025.com/og-image.png"
    />

    <link rel="icon" href="/icon.svg" type="image/svg+xml" />

    <link rel="icon" href="/favicon.ico" sizes="any" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300..800&family=Lexend:wght@300..900&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"
    />

    <style>
      /* 
           THEME CONFIGURATION
           We use data-theme for Pico's base (light/dark) and data-style for specific color palettes/fonts.
           
           To add a new theme:
           1. Define a new [data-style="theme-name"] block here with your overrides.
              - --pico-primary: Main accent color
              - --pico-primary-background: Background for buttons/badges
              - --pico-primary-hover: Hover state color
              - --pico-primary-underline: Underline color
              - --pico-font-family: Optional font override (default is sans-serif)
           2. Update the `themes` object in script.js `applyTheme()` function.
           3. Add the option to the Theme Selector in script.js `renderSettingsUI()`.
        */

      /* Base Settings (Global) */
      :root {
        /* Mobile-first: Increase base size for better legibility by default */
        --pico-font-size: 115%;
      }

      /* 1. Modal 'X' Icons: Inherit Pico Defaults */
      .close-modal[aria-label="Close"] {
        /* Only apply transitions; let Pico handle the rest */
        transition:
          transform 0.1s ease,
          opacity 0.1s ease;
      }

      /* 2. Simple 'Presence' Feedback for Defaults */
      .close-modal[aria-label="Close"]:hover {
        transform: scale(1.1);
        /* Pico usually handles the color/opacity change automatically */
      }

      /* Unify Modal Prose with the technical UI style */
      #modal-about .modal-body-content p {
        /* Dim the color to match your song cards and settings metadata */
        color: var(--pico-muted-color);

        /* Reduce size slightly to match the technical 'data' look */
        font-size: 0.95rem;
        line-height: 1.6;
        margin-bottom: 1.25rem;
      }

      /* THEME: Original (Blue Accent) */
      [data-style="original"] {
        --pico-primary: #60a5fa;
        --pico-primary-background: #3b82f6;

        /* 1. Core Hover Logic (used for links/icons) */
        --pico-primary-hover: color-mix(
          in srgb,
          var(--pico-primary),
          white 10%
        );

        /* 2. SOLID BUTTON HOVER FIX: This stops the shift to rgb(1, 127, 192) */
        --pico-primary-hover-background: color-mix(
          in srgb,
          var(--pico-primary-background),
          white 10%
        );
        --pico-primary-hover-border: color-mix(
          in srgb,
          var(--pico-primary-background),
          white 15%
        );

        /* 3. Focus & Underline Logic */
        --pico-primary-focus: color-mix(
          in srgb,
          var(--pico-primary),
          transparent 65%
        );
        --pico-primary-underline: color-mix(
          in srgb,
          var(--pico-primary),
          transparent 50%
        );

        /* 4. Structural Colors */
        --pico-muted-color: #94a3b8;
        --pico-muted-border-color: #475569;
        --pico-range-border-color: #334155;
        --pico-table-row-stripped-background-color: rgba(255, 255, 255, 0.03);

        /* 7. Secondary Button Logic (Back to top) */
        --pico-secondary: #94a3b8;
        --pico-secondary-background: #475569;

        /* Use color-mix for a clean, consistent hover */
        --pico-secondary-hover: color-mix(
          in srgb,
          var(--pico-secondary),
          white 15%
        );
        --pico-secondary-hover-background: color-mix(
          in srgb,
          var(--pico-secondary-background),
          white 10%
        );
        --pico-secondary-hover-border: color-mix(
          in srgb,
          var(--pico-secondary-background),
          white 15%
        );

        /* 8. Secondary Focus Ring */
        --pico-secondary-focus: color-mix(
          in srgb,
          var(--pico-secondary),
          transparent 70%
        );
      }

      /* THEME: Light (Clean Light Mode) */
      [data-style="light1"] {
        /* 1. Core Palette */
        --pico-primary: #7c4dff;
        --pico-background-color: #f8f9ff;
        --pico-color: #1a237e;
        --pico-muted-color: #5c6bc0;
        --pico-card-background-color: #ffffff;
        --pico-card-sectioning-background-color: #f0f2ff;

        /* 2. Primary Interaction (Links/Icons) */
        --pico-primary-hover: color-mix(
          in srgb,
          var(--pico-primary),
          black 10%
        );
        --pico-primary-underline: color-mix(
          in srgb,
          var(--pico-primary),
          transparent 50%
        );
        --pico-primary-focus: color-mix(
          in srgb,
          var(--pico-primary),
          transparent 70%
        );

        /* 3. Solid Button Hover Logic (Pico-Compliant) */
        --pico-primary-background: #7c4dff;
        --pico-primary-hover-background: color-mix(
          in srgb,
          var(--pico-primary),
          black 10%
        );
        --pico-primary-hover-border: color-mix(
          in srgb,
          var(--pico-primary),
          black 15%
        );

        /* 4. Secondary Button Logic (Back to top) */
        --pico-secondary: #5c6bc0;
        --pico-secondary-background: #e0e4ff;
        --pico-secondary-hover: color-mix(
          in srgb,
          var(--pico-secondary),
          black 10%
        );
        --pico-secondary-hover-background: color-mix(
          in srgb,
          var(--pico-secondary-background),
          black 5%
        );
        --pico-secondary-hover-border: color-mix(
          in srgb,
          var(--pico-secondary-background),
          black 10%
        );

        /* 5. Structural & UI Colors */
        --pico-muted-border-color: #d1d5db;
        --pico-range-border-color: #e0e4ff;
        --pico-table-row-stripped-background-color: #f5f7ff;
      }

      /* Revamped Light1 Overrides using Pico variables */
      [data-style="light1"] article,
      [data-style="light1"] dialog article {
        /* Using a mix of your primary purple for the shadow instead of hardcoded navy */
        box-shadow: 0 4px 12px
          color-mix(in srgb, var(--pico-primary), transparent 92%);
      }

      [data-style="light1"] article header {
        /* Matching the border to your theme's structural periwinkle */
        border-bottom: 1px solid var(--pico-range-border-color);
      }

      [data-style="light1"] .mode-card.active {
        /* Use 94% transparent primary for a soft 'wash' of purple */
        background-color: color-mix(
          in srgb,
          var(--pico-primary),
          transparent 94%
        );
        border-color: var(--pico-primary);

        /* Optional: Soften the text color to match the primary theme */
        color: var(--pico-primary);
      }

      /* THEME: Studio 808 (Hardware Refined) */
      [data-style="808"] {
        /* 1. Core Hardware Palette */
        --pico-background-color: #000000;
        --pico-card-background-color: #000000;
        --pico-card-sectioning-background-color: #0a0a0a;
        --pico-primary: #ff5f00; /* Signature Orange */
        --pico-color: #e0e0e0;
        --pico-muted-color: #757575;

        /* 2. Hardware Aesthetics (Universal Square Corners) */
        --pico-font-family: "JetBrains Mono", monospace;
        --pico-border-radius: 0;
        --pico-muted-border-color: #222222;
        --pico-range-border-color: #3d3d3d;
        --pico-table-row-stripped-background-color: #111111;

        /* 3. Link & Interaction (Orange Glow Logic) */
        --pico-primary-hover: color-mix(
          in srgb,
          var(--pico-primary),
          white 15%
        );
        --pico-primary-underline: color-mix(
          in srgb,
          var(--pico-primary),
          transparent 50%
        );
        --pico-primary-focus: color-mix(
          in srgb,
          var(--pico-primary),
          transparent 60%
        );

        /* 4. Solid Button Hover Logic */
        --pico-primary-background: var(--pico-primary);
        --pico-primary-hover-background: color-mix(
          in srgb,
          var(--pico-primary-background),
          white 10%
        );
        --pico-primary-hover-border: color-mix(
          in srgb,
          var(--pico-primary-background),
          white 15%
        );

        /* 5. Secondary Button Logic (Back to top) */
        --pico-secondary: #757575;
        --pico-secondary-background: #222222;
        --pico-secondary-hover-background: color-mix(
          in srgb,
          var(--pico-secondary-background),
          white 10%
        );
      }

      /* --- Technical 808 Component Overrides --- */

      /* Recessed LCD Links with Backlit Plastic Effect */
      [data-style="808"] a:not([role="button"]) {
        text-decoration: none;
        position: relative;
        background-color: #1a1a1a;
        color: var(--pico-primary);
        padding: 0.1rem 0.4rem;
        margin: 0 -0.1rem;
        border-top: 1px solid #000;
        border-left: 1px solid #000;
        border-right: 1px solid #333;
        border-bottom: 1px solid #333;
        transition: all 0.05s steps(2); /* Mechanical switch feel */
      }

      [data-style="808"] a:not([role="button"]):hover {
        background-color: var(--pico-primary) !important;
        /* Translucent text effect using your 80% black mix */
        color: color-mix(in srgb, var(--pico-primary), black 80%) !important;

        /* Invert borders to simulate 'pressed' button */
        border-top-color: color-mix(in srgb, var(--pico-primary), black 40%);
        border-left-color: color-mix(in srgb, var(--pico-primary), black 40%);
        border-right-color: color-mix(in srgb, var(--pico-primary), white 20%);
        border-bottom-color: color-mix(in srgb, var(--pico-primary), white 20%);
      }

      /* Square Slider Knobs */
      [data-style="808"] input[type="range"]::-webkit-slider-thumb {
        background: var(--pico-primary);
        border-radius: 0;
      }

      /* Recessed 'LCD' Display for KBD and Mode Cards */
      [data-style="808"] kbd,
      [data-style="808"] .mode-card.active {
        background-color: #111111;
        color: var(--pico-primary);
        border: 1px solid #222;
        box-shadow: none;
      }

      /* Technical Hardware Focus Rings */
      [data-style="808"] a:focus-visible,
      [data-style="808"] button:focus-visible,
      [data-style="808"] [role="button"]:focus-visible,
      [data-style="808"] [data-sources]:focus-visible {
        outline: none !important;
        box-shadow: 0 0 0 2px var(--pico-primary) !important;
        border-color: var(--pico-primary) !important;
      }

      /* Hardware Divider for Reviews */
      [data-style="808"] #modal-reviews article.review-entry {
        background-color: transparent !important;
        border: none !important;
        border-bottom: 2px solid #1a1a1a !important;
        padding: 2rem 0;
      }

      [data-style="808"] article.review-entry blockquote {
        background-color: #1a1a1a;
        border-left: 3px solid var(--pico-primary);
        color: var(--pico-color);
        padding: 1.5rem;
      }

      /* 808 Theme Specific: Match the LCD readout intensity */
      [data-style="808"] #modal-about .modal-body-content p {
        color: var(
          --pico-color
        ); /* Slightly higher contrast for monospace readability */
        opacity: 0.8; /* Subtle dimming for long text blocks */
        font-family: var(--pico-font-family);
      }

      /* 
           FUTURE THEME EXAMPLES:
           
           [data-style="crimson"] {
               --pico-primary: #c62828;
               --pico-primary-background: #c62828;
               --pico-primary-hover: #b71c1c;
               --pico-primary-underline: rgba(198, 40, 40, 0.5);
               --pico-font-family: "Georgia", "Times New Roman", serif; 
           }
        */

      /* Accessibility: Only show focus rings when using a keyboard */
      :focus:not(:focus-visible) {
        box-shadow: none !important;
        outline: none !important;
      }

      /* Enable word-wrapping for Pico CSS tooltips */
      [data-tooltip]::before {
        white-space: normal; /* Allows text to wrap to the next line */
        max-width: 80vw; /* Ensures it doesn't exceed the viewport on mobile */
        line-height: 1.4; /* Improves readability for multi-line text */
      }

      /* Fix for mobile modal scrolling clipping */
      dialog > article {
        max-height: calc(100dvh - var(--pico-spacing) * 2);
        overflow-y: auto;
        -webkit-overflow-scrolling: touch; /* Ensures smooth momentum scrolling on iOS */
      }

      /* Add spacing at the top of the main container for rank #1 */
      main.container {
        padding-top: var(--pico-block-spacing-vertical);

        /* Mobile: Reduce side padding so cards are wider */
        padding-left: 0.5rem;
        padding-right: 0.5rem;
      }

      /* Center the bottom controls and add breathing room */
      .page-controls {
        padding: 2rem 0;
        text-align: center;
        padding-bottom: 5rem;
      }

      /* On mobile, keep the buttons full-width or side-by-side */
      .page-controls .grid {
        max-width: 400px; /* Keeps the buttons from being too wide on huge monitors */
        margin: 0 auto; /* Centers the grid container */
        gap: 1rem;
      }

      dialog article footer.modal-controls {
        display: flex;
        flex-direction: column;
        gap: 0.75rem; /* Generous vertical spacing for thumbs */
        padding: var(--pico-spacing);
      }

      dialog article footer.modal-controls button {
        width: 100%; /* Full width for a large thumb target */
        margin: 0; /* Removes any default side margins causing offset */
        text-align: center; /* Ensures text is perfectly centered */
      }

      dialog article footer.modal-controls button:not(:first-of-type) {
        margin: 0; /* Override Pico CSS's horizontal button margins */
      }

      /* Enhanced Global Button Depress */
      button:active,
      [role="button"]:active {
        /* Use !important to ensure this high-priority visual feedback wins */
        transform: scale(0.96) !important;
        transition: transform 0.05s ease-in-out !important;
        /* Optional: slightly dim the button to make the "push" more obvious */
        filter: brightness(0.95);
      }

      /* Ensure the transform doesn't linger after the click */
      button,
      [role="button"] {
        transition:
          transform 0.1s ease-in-out,
          background-color 0.2s,
          border-color 0.2s,
          box-shadow 0.2s;
      }

      /* Floating Action Button: Mobile-First & Accessible */
      #fixed-btt {
        display: flex;
        position: fixed;
        /* Positions the button in the bottom right with thumb-friendly spacing */
        bottom: 1.25rem;
        right: 1.25rem;
        z-index: 1000;

        /* Standard mobile touch target (~48px) */
        width: 3rem;
        height: 3rem;

        /* Circular Material Design aesthetic */
        border-radius: 50%;
        padding: 0;
        align-items: center;
        justify-content: center;

        /* Visual depth and layer separation */
        box-shadow: 0 0.25rem 0.75rem rgba(0, 0, 0, 0.4);

        /* Hidden by default; transition handles the fade-in */
        opacity: 0;
        pointer-events: none;
        transition:
          opacity 0.3s ease,
          transform 0.2s ease,
          background-color 0.2s;
        border: none;
      }

      #fixed-btt svg {
        width: 1.1rem;
        height: 1.1rem;
      }

      /* Visibility state toggled via JavaScript */
      #fixed-btt.visible {
        opacity: 1;
        pointer-events: auto;
      }

      /* Desktop Scale (Matches your site's 1025px breakpoint) */
      @media (min-width: 1025px) {
        #fixed-btt {
          bottom: 2rem;
          right: 2rem;
          /* Larger desktop FAB (~56px) */
          width: 3.5rem;
          height: 3.5rem;
        }
      }

      /* Desktop Hover Effects (Limited to devices with a cursor) */
      @media (hover: hover) {
        #fixed-btt:hover {
          /* Subtle growth to signal interactivity */
          transform: scale(1.1);
          /* Inherits your theme's secondary hover state */
          background-color: var(--pico-secondary-hover-background);
        }
      }

      /* Immediate haptic-style feedback on click */
      #fixed-btt:active {
        transform: scale(0.95);
      }

      /* Desktop: Allow container to be wider for more breathing room */
      @media (min-width: 1025px) {
        main.container,
        header.container {
          max-width: 90vw; /* Use more screen real estate */
        }
      }

      @media (min-width: 1400px) {
        main.container,
        header.container {
          max-width: 1300px; /* Cap it reasonably on huge screens */
        }
      }

      /* Add space for the iPhone's "notch" and address bar on mobile by default */
      main#app {
        padding-top: 2rem;
      }

      /* Song Cards: Minimal custom styling, rely on Pico's article styling */
      article.song-card {
        position: relative;
        margin-bottom: 2rem;
      }

      /* 
           MOBILE-FIRST LAYOUT 
           Base styles apply to mobile (and up, unless overridden).
        */

      .song-card-layout {
        display: flex;
        flex-direction: column; /* Stack vertically on mobile */
        align-items: flex-start;
        gap: var(--pico-spacing);
      }

      .rank-display {
        flex: 0 0 auto;
        text-align: left;
        font-size: 2.5rem; /* Bigger rank on mobile */
        font-weight: 900;
        opacity: 0.6;
        line-height: 1;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        margin-bottom: -1rem; /* Pull video up closer to rank */
      }

      .video-figure {
        flex: 0 0 auto;
        width: 100%; /* Full width on mobile */
        margin: 0;
      }

      .song-info {
        flex: 1;
        min-width: 0;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        width: 100%; /* Ensure it takes full width in stack */
      }

      /* Genre display styling - use specific selector to override Pico's h5 styles */
      #modal-reviews article.song-card hgroup h5.song-genres {
        font-size: 0.8rem;
        opacity: 80%;
        font-weight: 300; /* Lighter weight creates a sophisticated look */
        margin-bottom: 0;
      }

      /* Global Review Spacing (Applies to all themes) */
      #modal-reviews article.review-entry {
        padding: 2.5rem 0; /* Increased from the tight default */
        border-bottom: 1px solid var(--pico-muted-border-color);
        margin-bottom: 0;
      }

      /* Ensure the header and blockquote don't feel disconnected */
      #modal-reviews article.review-entry hgroup {
        margin-bottom: 1rem;
      }

      #modal-reviews article.review-entry blockquote {
        margin-bottom: 1rem;
      }

      /* Remove the border from the last item so it doesn't double up with the footer */
      #modal-reviews article.review-entry:last-of-type {
        border-bottom: none;
      }

      #modal-reviews article.review-entry hgroup h5 {
        font-size: 0.8rem;
        color: color-mix(in srgb, var(--pico-color) 80%, transparent);
        font-weight: 300; /* Lighter weight creates a sophisticated look */
        margin-bottom: 0;
      }

      /* Apply a shared class to both tables */
      .source-stats-table {
        table-layout: fixed;
        width: 100%;
        margin-bottom: var(--pico-block-spacing-vertical);
      }

      /* Define the width of the Source Name column */
      .source-stats-table th:first-child,
      .source-stats-table td:first-child {
        width: 70%;
        /* Allow tooltips to overflow - no clipping */
        text-overflow: ellipsis;
      }

      /* Define the width of the Song Count column */
      .source-stats-table th:last-child,
      .source-stats-table td:last-child {
        width: 30%;
        text-align: right; /* Keeps numbers neatly aligned on the right */
      }

      /* Ensure table rows and cells don't clip tooltips */
      .source-stats-table tbody tr,
      .source-stats-table tbody td {
        overflow: visible;
      }

      /* Ensure tooltips in source tables wrap text properly */
      .source-stats-table abbr[data-tooltip]::before,
      .source-stats-table abbr[data-tooltip]::after {
        white-space: normal;
      }

      /* Video player wrapper using semantic <figure> */
      article.song-card figure {
        margin: 0;
        display: flex;
        align-items: center;
      }

      article.song-card figure lite-youtube {
        width: 100%;
        aspect-ratio: 16 / 9;
        border-radius: var(--pico-border-radius);
      }

      /* Accessibility: Visual focus indicator for video players */
      article.song-card figure lite-youtube:focus-within {
        /* Use a box-shadow instead of a border to avoid "jumping" layout */
        box-shadow: 0 0 0 3px var(--pico-primary) !important;
        outline: none;
        /* Ensure the shadow follows the component's corners */
        border-radius: var(--pico-border-radius);
        transition: box-shadow 0.2s ease-in-out;
      }

      /* Customize lite-youtube play button - Mobile Default (visible) */
      lite-youtube::part(playButton) {
        width: 68px;
        height: 48px;
        background-color: transparent;
        filter: grayscale(1);
        opacity: 0.15; /* Mobile default - slightly visible */
        transition:
          opacity 0.2s,
          filter 0.2s;
      }

      /* Header contains hgroup and info icon */
      article.song-card .song-info > header {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        gap: 1rem;
        padding: 0;
        margin: 0;
        margin-bottom: 0.75rem;
        border: none;
      }

      article.song-card hgroup {
        margin-bottom: 0;
        flex: 1;
      }

      /* Song Title - Mobile optimized */
      article.song-card hgroup h3 {
        /* font-size: 1.5rem; /* Larger, clearer title */
        margin-bottom: 0.25rem;
        line-height: 1.2;
        color: var(--pico-color);

        font-weight: 800; /* Extra bold for visibility */
      }

      /* Use h4 for artist name in hgroup */
      article.song-card hgroup h4 {
        color: var(--pico-muted-color);
        font-weight: normal;
        margin-bottom: 0.25rem;
      }

      /* Info icon - now inside header, aligned to baseline */
      article.song-card header > a[aria-label] {
        opacity: 0.4;
        font-size: 1.4rem; /* Slightly larger touch target */
        transition: opacity 0.2s;
        padding: 0.25rem;
        margin: -0.25rem 0 0 0; /* Compensation for padding */
        text-decoration: none;
        flex-shrink: 0;
      }

      article.song-card header > a[aria-label]:hover {
        opacity: 1;
      }

      /* Custom Focus for the Sources text area */
      [data-sources]:focus-visible {
        outline: none;
        /* Adds a subtle underline or glow using your theme's primary color */
        box-shadow: 0 0 0 1px var(--pico-primary) !important;
        color: var(--pico-color) !important;
        cursor: pointer;
      }

      /* Sources section styling - Mobile optimized */
      article.song-card [data-sources] {
        margin: 0.75rem 0;
        line-height: 1.6; /* Tightened from 2, but still touch-friendly */
        font-size: 1rem; /* Increased from 0.95rem */
        cursor: pointer;
      }

      article.song-card [data-sources] span {
        white-space: nowrap;
        color: var(--pico-muted-color);
        font-size: 0.8rem;
        transition: color 0.2s;
      }

      article.song-card:hover [data-sources] span {
        color: var(--pico-color);
      }

      /* Nav for listen links - Pico handles most styling */
      article.song-card nav {
        margin-top: auto;
        padding: 0;
      }

      article.song-card nav ul {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem 1rem;
        margin: 0;
        padding: 0;
        list-style: none;
      }

      article.song-card nav li {
        margin: 0;
        padding: 0;
      }

      article.song-card nav a {
        display: inline-flex;
        align-items: center;
        gap: 0.4em;
        white-space: nowrap;

        font-size: 0.85rem; /* Increased from 0.7rem */
        text-transform: uppercase;
        font-weight: 700;
        opacity: 0.7;
        transition:
          opacity 0.2s,
          color 0.2s;
        padding: 0.4rem 0.5rem; /* Larger touch targets */
        text-decoration: none;
      }

      article.song-card nav a:hover {
        opacity: 1;
      }

      /* The SVG Icons */
      article.song-card nav a svg {
        /* Scale based on the text size (1.1em makes it slightly larger/prominent) */
        width: 1.1em;
        height: 1.1em;

        /* Inherits the current text color automatically */
        fill: currentColor;

        /* Fixes vertical alignment issues in some browsers */
        flex-shrink: 0;
        display: inline-block;
        vertical-align: middle;
      }

      /* 
           DESKTOP / TABLET OVERRIDES 
        */
      @media (min-width: 1025px) {
        :root {
          --pico-font-size: 100%; /* Reset to standard size on desktop */
        }

        main#app {
          padding-top: 0; /* Remove extra top padding */
        }

        .song-card-layout {
          flex-direction: row; /* Horizontal layout */
          align-items: center;
        }

        .rank-display {
          flex: 0 0 4rem; /* Fixed width */
          text-align: center;
          font-size: clamp(1.75rem, 2.5vw, 2.25rem);
          margin-bottom: 0;
          justify-content: center;
        }

        .video-figure {
          flex: 0 0 320px; /* Fixed width for video */
          width: auto;
        }

        /* Tighter line height for mouse users */
        article.song-card [data-sources] {
          line-height: 1.8;
          font-size: 0.875rem;
        }
      }

      /* Large Desktop Overrides */
      @media (min-width: 1200px) {
        .video-figure {
          flex: 0 0 360px;
        }
      }

      /* Hover effects for devices that support it (mostly desktop) */
      @media (hover: hover) {
        lite-youtube::part(playButton) {
          opacity: 0; /* Invisible until hover or focus */
        }

        lite-youtube:hover::part(playButton),
        lite-youtube:focus::part(playButton),
        lite-youtube:focus-within::part(playButton) {
          opacity: 1;
        }
      }

      /* Responsive Header - Two-Column Flex Layout */
      header.container nav {
        display: flex;
        justify-content: space-between;
        align-items: center; /* Vertically center title and nav */
        flex-wrap: nowrap;
      }

      /* The Title Block */
      header.container nav ul:first-of-type {
        flex: 1;
        display: block; /* Allow the <strong> to wrap naturally */
        padding: 0;
      }

      header.container nav ul:first-of-type li {
        display: block;
        padding: 0;
      }

      header.container nav ul:first-of-type li strong {
        display: block;
        line-height: 1.1;
        font-size: clamp(1rem, 4.5vw, 1.3rem);
        white-space: normal; /* This enables the wrap you want */
        max-width: 180px; /* Forces 'Consensus' and 'Best Songs' to stack */
      }

      /* Desktop: Unwrap title */
      @media (min-width: 1025px) {
        header.container nav ul:first-of-type li strong {
          max-width: none;
          white-space: nowrap;
        }

        /* Hide tune icon on desktop, show only text */
        .nav-desktop #open-settings svg {
          display: none;
        }
      }

      /* Responsive Header Navigation */
      .nav-desktop {
        display: none;
      }

      .nav-mobile {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        flex-shrink: 0;
      }

      .nav-mobile li {
        margin: 0;
        padding: 0;
      }

      /* Mobile nav button styling (Tune and Hamburger) */
      .nav-mobile button {
        padding: 0.4rem 0.5rem;
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 2.2rem;
      }

      .nav-mobile button svg {
        display: block;
      }

      /* Mobile menu dropdown */
      .mobile-menu {
        position: absolute;
        top: 100%;
        right: 0;
        background: var(--pico-card-background-color);
        border: 1px solid var(--pico-muted-border-color);
        border-radius: var(--pico-border-radius);
        padding: 0.5rem 0;
        z-index: 1000;
        min-width: 180px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      }

      .mobile-menu[hidden] {
        display: none;
      }

      .mobile-menu a {
        display: block;
        padding: 0.75rem 1rem;
        text-decoration: none;
        color: var(--pico-color);
        transition: background-color 0.2s;
      }

      .mobile-menu a:hover {
        background-color: var(--pico-secondary-background);
      }

      /* Header container needs relative positioning for absolute menu */
      header.container {
        position: relative;
      }

      /* Desktop: Show desktop nav, hide mobile nav */
      @media (min-width: 1025px) {
        .nav-desktop {
          display: flex;
          align-items: center;
          height: 2.2rem;
          flex-shrink: 0;
        }

        .nav-mobile {
          display: none;
        }

        .mobile-menu {
          display: none !important;
        }
      }

      /* Chip/Pill button styles for modal selections */
      .chip-group {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
      }

      .chip-group button {
        padding: 0.35rem 0.85rem;
        border-radius: 2rem;
        font-size: 0.875rem;
        width: auto;
        margin: 0;
      }

      /* Settings UI Styles */
      .customized-label {
        color: var(--pico-primary);
        font-weight: bold;
      }

      article.mode-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: var(--pico-spacing);

        cursor: pointer;
        border: 2px solid transparent;
        border-color: var(--pico-muted-border-color);
        transition:
          border-color 0.2s,
          transform 0.1s ease,
          background-color 0.2s;
        margin-bottom: 0;
      }

      article.mode-card header {
        background-color: transparent;
        border-bottom: none;
        margin-bottom: 0;
      }

      article.mode-card:hover {
        border-color: var(--pico-secondary);
        transform: scale(1.02);
      }

      article.mode-card.active {
        border-color: var(--pico-primary);
      }

      /* Column List: Defaults to 1 column (mobile), switches to 2 on larger screens */
      .column-list {
        column-count: 1;
      }

      /* Stats Modal: Reduce cell padding to expand text closer to row boundaries */
      #modal-stats table td,
      #modal-stats table th {
        padding-left: calc(var(--pico-spacing) * 0.25);
        padding-right: calc(var(--pico-spacing) * 0.25);
      }

      /* Stats Modal: Add spacing between sections */
      #stats-content > section {
        margin-bottom: calc(var(--pico-spacing) * 1.5);
      }

      #stats-content > section:last-child {
        margin-bottom: 0;
      }

      /* Stats Modal: Ensure tooltips wrap properly and stay within modal bounds */
      #modal-stats abbr[data-tooltip]::before,
      #modal-stats abbr[data-tooltip]::after {
        white-space: normal;
        max-width: 280px;
      }

      /* Stats Modal: Shadow rank tooltips (top placement) should be narrower */
      #modal-stats abbr[data-tooltip][data-placement="top"]::before {
        max-width: 220px;
      }

      /* Reviews Modal: Ensure shadow rank tooltips wrap properly */
      #modal-reviews abbr[data-tooltip]::before,
      #modal-reviews abbr[data-tooltip]::after {
        white-space: normal;
      }

      /* Mobile Modal Fixes: Flatten nested structure to maximize width */
      @media (max-width: 1024px) {
        /* Make tooltips narrower on mobile to stay within modal bounds */
        #modal-stats table abbr[data-tooltip]::before {
          max-width: 180px;
        }

        /* Shadow rank tooltips on mobile should be even narrower */
        #modal-stats table abbr[data-tooltip][data-placement="top"]::before {
          max-width: 160px;
        }

        /* Remove extra padding from container inside dialog */
        dialog .container {
          padding-left: 0;
          padding-right: 0;
        }

        /* Remove card styling from nested articles to regain horizontal space */
        dialog article article:not(.mode-card) {
          padding: 0;
          background: transparent;
          box-shadow: none;
          margin-bottom: 1.5rem;
          border-bottom: 1px solid var(--pico-muted-border-color);
          padding-bottom: 1.5rem;
        }

        dialog article article:not(.mode-card):last-of-type {
          border-bottom: none;
          margin-bottom: 0;
          padding-bottom: 0;
        }

        /* Tighten up the formula display in settings */
        math-formula svg {
          max-width: 100%;
        }

        /* Hide mode names in comparison table on mobile to save space */
        .mode-name {
          display: none;
        }

        /* Reduce the gap between the Consensus and Conviction boxes */
        #about-ranking .grid {
          gap: var(--pico-spacing);
        }
      }

      @media (min-width: 1025px) {
        .column-list {
          column-count: 2;
          column-gap: 2rem;
        }

        /* Show mode names on desktop */
        .mode-name {
          display: inline;
        }
      }
    </style>

    <!-- Lite YouTube -->
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/@justinribeiro/lite-youtube@1/lite-youtube.js"
    ></script>

    <!-- Vercel Analytics -->
    <script>
      window.va =
        window.va ||
        function () {
          (window.vaq = window.vaq || []).push(arguments);
        };

      // 1. Check if the domain is correct
      const isProd = window.location.hostname.endsWith("bestsongs2025.com");

      // 2. Check if YOU have "opted out" on this specific browser
      const isMe = localStorage.getItem("va-disable") === "true";

      if (isProd && !isMe) {
        const script = document.createElement("script");
        script.src = "/_vercel/insights/script.js";
        script.defer = true;
        document.head.appendChild(script);
      } else {
        console.log(
          "Vercel Analytics: Off (Env: " +
            window.location.hostname +
            ", Opt-out: " +
            isMe +
            ")",
        );
      }
    </script>
  </head>
  <body>
    <!-- Icons for the streaming services and jump to top button. -->
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
      <symbol id="icon-spotify" viewBox="0 0 24 24">
        <path
          d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"
        />
      </symbol>

      <symbol id="icon-youtube" viewBox="0 0 24 24">
        <path
          d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"
        />
      </symbol>

      <symbol id="icon-apple" viewBox="0 0 24 24">
        <path
          d="M23.994 6.124a9.23 9.23 0 00-.24-2.19c-.317-1.31-1.062-2.31-2.18-3.043a5.022 5.022 0 00-1.877-.726 10.496 10.496 0 00-1.564-.15c-.04-.003-.083-.01-.124-.013H5.986c-.152.01-.303.017-.455.026-.747.043-1.49.123-2.193.4-1.336.53-2.3 1.452-2.865 2.78-.192.448-.292.925-.363 1.408-.056.392-.088.785-.1 1.18 0 .032-.007.062-.01.093v12.223c.01.14.017.283.027.424.05.815.154 1.624.497 2.373.65 1.42 1.738 2.353 3.234 2.801.42.127.856.187 1.293.228.555.053 1.11.06 1.667.06h11.03a12.5 12.5 0 001.57-.1c.822-.106 1.596-.35 2.295-.81a5.046 5.046 0 001.88-2.207c.186-.42.293-.87.37-1.324.113-.675.138-1.358.137-2.04-.002-3.8 0-7.595-.003-11.393zm-6.423 3.99v5.712c0 .417-.058.827-.244 1.206-.29.59-.76.962-1.388 1.14-.35.1-.706.157-1.07.173-.95.045-1.773-.6-1.943-1.536a1.88 1.88 0 011.038-2.022c.323-.16.67-.25 1.018-.324.378-.082.758-.153 1.134-.24.274-.063.457-.23.51-.516a.904.904 0 00.02-.193c0-1.815 0-3.63-.002-5.443a.725.725 0 00-.026-.185c-.04-.15-.15-.243-.304-.234-.16.01-.318.035-.475.066-.76.15-1.52.303-2.28.456l-2.325.47-1.374.278c-.016.003-.032.01-.048.013-.277.077-.377.203-.39.49-.002.042 0 .086 0 .13-.002 2.602 0 5.204-.003 7.805 0 .42-.047.836-.215 1.227-.278.64-.77 1.04-1.434 1.233-.35.1-.71.16-1.075.172-.96.036-1.755-.6-1.92-1.544-.14-.812.23-1.685 1.154-2.075.357-.15.73-.232 1.108-.31.287-.06.575-.116.86-.177.383-.083.583-.323.6-.714v-.15c0-2.96 0-5.922.002-8.882 0-.123.013-.25.042-.37.07-.285.273-.448.546-.518.255-.066.515-.112.774-.165.733-.15 1.466-.296 2.2-.444l2.27-.46c.67-.134 1.34-.27 2.01-.403.22-.043.442-.088.663-.106.31-.025.523.17.554.482.008.073.012.148.012.223.002 1.91.002 3.822 0 5.732z"
        />
      </symbol>

      <symbol id="icon-ytmusic" viewBox="0 0 24 24">
        <path
          d="M12 0C5.376 0 0 5.376 0 12s5.376 12 12 12 12-5.376 12-12S18.624 0 12 0zm0 19.104c-3.924 0-7.104-3.18-7.104-7.104S8.076 4.896 12 4.896s7.104 3.18 7.104 7.104-3.18 7.104-7.104 7.104zm0-13.332c-3.432 0-6.228 2.796-6.228 6.228S8.568 18.228 12 18.228s6.228-2.796 6.228-6.228S15.432 5.772 12 5.772zM9.684 15.54V8.46L15.816 12l-6.132 3.54z"
        />
      </symbol>

      <symbol id="icon-bandcamp" viewBox="0 0 24 24">
        <path d="M0 18.75l7.437-13.5H24l-7.438 13.5H0z" />
      </symbol>

      <symbol
        id="icon-top"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2.5"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M5 3h14" />
        <path d="m18 13-6-6-6 6" />
        <path d="M12 7v14" />
      </symbol>

      <!-- Hamburger menu icon (Lucide) -->
      <symbol
        id="icon-menu"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M4 5h16" />
        <path d="M4 12h16" />
        <path d="M4 19h16" />
      </symbol>

      <!-- Settings icon for Tune Ranking (Lucide settings-2) -->
      <symbol
        id="icon-sliders"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M14 17H5"/>
        <path d="M19 7h-9"/>
        <circle cx="17" cy="17" r="3"/>
        <circle cx="7" cy="7" r="3"/>
      </symbol>
    </svg>

    <header class="container">
      <nav>
        <ul>
          <li><strong>Consensus Best Songs 2025</strong></li>
        </ul>
        <!-- Desktop navigation (hidden on mobile) -->
        <ul class="nav-desktop">
          <li>
            <a href="#" id="open-settings">
              <svg width="16" height="16" style="vertical-align: -2px; margin-right: 4px;"><use href="#icon-sliders"></use></svg>Tune
            </a>
          </li>
          <li><a href="#" id="open-youtube">Listen</a></li>
          <li><a href="#" id="open-download">Download</a></li>
          <li><a href="#" id="open-about">About</a></li>
        </ul>
        <!-- Mobile navigation -->
        <ul class="nav-mobile">
          <li>
            <button
              id="open-settings-mobile"
              class="outline secondary"
            >
              <svg width="16" height="16" style="vertical-align: -2px; margin-right: 4px;"><use href="#icon-sliders"></use></svg>Tune
            </button>
          </li>
          <li>
            <button
              id="hamburger-btn"
              class="outline secondary"
              aria-label="Menu"
              aria-expanded="false"
              aria-controls="mobile-menu"
            >
              <svg width="20" height="20"><use href="#icon-menu"></use></svg>
            </button>
          </li>
        </ul>
      </nav>
      <!-- Mobile dropdown menu -->
      <div id="mobile-menu" class="mobile-menu" hidden>
        <a href="#" id="open-youtube-mobile">Listen on YouTube</a>
        <a href="#" id="open-download-mobile">Download Playlist</a>
        <a href="#" id="open-about-mobile">About</a>
      </div>
    </header>

    <main class="container" id="app">
      <div id="song-list"></div>

      <section class="page-controls">
        <div class="grid">
          <button id="load-more" class="outline">Show More</button>
        </div>
      </section>
    </main>

    <dialog id="modal-settings">
      <article>
        <header>
          <button
            aria-label="Close"
            rel="prev"
            class="close-modal"
            autofocus
          ></button>
          <h3>Tune Ranking</h3>
        </header>
        <div id="settings-content"></div>
        <footer class="modal-controls">
          <button class="secondary outline btt-trigger">Back to top</button>
          <button id="reset-defaults">Reset</button>
          <button class="secondary close-modal">Close</button>
        </footer>
      </article>
    </dialog>

    <dialog id="modal-stats">
      <article>
        <header>
          <button
            aria-label="Close"
            rel="prev"
            class="close-modal"
            autofocus
          ></button>
          <h3 id="stats-title">Ranking Stats</h3>
        </header>
        <div id="stats-content"></div>
        <footer class="modal-controls">
          <button class="secondary outline btt-trigger">Back to top</button>
          <button class="secondary close-modal">Close</button>
        </footer>
      </article>
    </dialog>

    <dialog id="modal-reviews">
      <article>
        <header>
          <button
            aria-label="Close"
            rel="prev"
            class="close-modal"
            autofocus
          ></button>
          <h3>Reviews</h3>
        </header>
        <div id="reviews-content"></div>
        <footer class="modal-controls">
          <button class="secondary outline btt-trigger">Back to top</button>
          <button class="secondary close-modal">Close</button>
        </footer>
      </article>
    </dialog>

    <dialog id="modal-youtube">
      <article>
        <header>
          <button
            aria-label="Close"
            rel="prev"
            class="close-modal"
            autofocus
          ></button>
          <hgroup>
            <h3>Listen on YouTube</h3>
            <p>Play the top songs as an unnamed playlist on YouTube</p>
          </hgroup>
        </header>
        <div id="youtube-content">
          <!-- Dynamic content will be injected here -->
        </div>
        <footer class="modal-controls">
          <!-- Footer content will be managed by renderYouTubeUI -->
        </footer>
      </article>
    </dialog>

    <dialog id="modal-download">
      <article>
        <header>
          <button
            aria-label="Close"
            rel="prev"
            class="close-modal"
            autofocus
          ></button>
          <hgroup>
            <h3>Download playlist</h3>
            <p>Download as CSV and import to the streaming service of your choice</p>
          </hgroup>
        </header>
        <div id="download-content">
          <!-- Dynamic content will be injected here -->
        </div>
        <footer class="modal-controls">
          <!-- Footer content will be managed by renderDownloadUI -->
        </footer>
      </article>
    </dialog>

    <dialog id="modal-about">
      <article>
        <header>
          <button
            aria-label="Close"
            rel="prev"
            class="close-modal"
            autofocus
          ></button>
          <h3>About</h3>
        </header>
        <div class="modal-body-content">
          <section id="about-general">
            <hgroup>
              <h4>Behind the project</h4>
              <p>A labor of love for music and data</p>
            </hgroup>
            <p>
              I'm Everett. I love music, data, and technology. Each year, I look
              through the many
              <strong>"Best Songs of the Year"</strong> lists to find new music
              I might have missed. There are so many songs (<kbd
                id="total-songs-count"
                >...</kbd
              >
              so far this year)! I often prioritize my listening order with a
              ranking. This site is a result of that obsession and an excuse to
              try using AI for frontend development.
            </p>
            <p>
              <a href="https://github.com/eandx1/consensus-best-songs-2025"
                >Read more about the analysis and process on GitHub</a
              >
            </p>
            <p>
              <a href="https://www.linkedin.com/in/everett-anderson-swe/"
                >Contact me on LinkedIn</a
              >
            </p>
          </section>

          <hr />
          <section id="about-methodology">
            <hgroup>
              <h4>How it works</h4>
              <p>Build your own 2025 definitive ranking</p>
            </hgroup>
            <p>
              This site aggregates <strong>"Best Songs of 2025"</strong> lists
              from US/UK music industry sites, critics, niche/genre sites, and
              the mainstream press.
              <strong
                >By default, the ranking prioritizes consensus and crossover
                hits, seasoned with a bit of my own genre and source
                biases.</strong
              >
            </p>
            <section>
              Make it your own!
              <ul>
                <li>Weight sources: Boost your favorite publications</li>
                <li>
                  Choose a rank decay function: Prioritize #1 spots over general
                  consensus
                </li>
                <li>
                  Boost song types: Prefer niche sounds over the mainstream
                </li>
              </ul>
            </section>
          </section>

          <hr />
          <section id="about-sources">
            <hgroup>
              <h4>Sources</h4>
              <p>All the song and ranking sources</p>
            </hgroup>

            <h5>Ranked</h5>
            <figure>
              <table id="ranked-sources-table" class="source-stats-table">
                <thead>
                  <tr>
                    <th>Source</th>
                    <th>Songs</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td colspan="2">Loading...</td>
                  </tr>
                </tbody>
              </table>
            </figure>

            <h5>Unranked</h5>
            <figure>
              <table id="unranked-sources-table" class="source-stats-table">
                <thead>
                  <tr>
                    <th>Source</th>
                    <th>Songs</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td colspan="2">Loading...</td>
                  </tr>
                </tbody>
              </table>
            </figure>
          </section>
        </div>
        <footer class="modal-controls">
          <button class="secondary outline btt-trigger">Back to top</button>
          <button class="secondary close-modal">Close</button>
        </footer>
      </article>
    </dialog>

    <button
      id="fixed-btt"
      class="secondary btt-trigger"
      aria-label="Back to top"
    >
      <svg>
        <use href="#icon-top"></use>
      </svg>
    </button>

    <script src="./script.js"></script>
  </body>
</html>
